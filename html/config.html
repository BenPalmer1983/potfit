
<!--#include virtual="potfithead.html" -->

<!-- Copyright (c)  2005  Peter Brommer, Franz Gaehler, ITAP.              -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the GNU Free Documentation License, Version 1.2    -->
<!-- or any later version published by the Free Software Foundation;       -->
<!-- with Invariant Sections being the files potfit.html/index.html and    -->
<!-- licence.html, the Front-Cover Text "potfit - a force-matching         -->
<!-- program", and the Back-Cover Text "potfit was originally developed by -->
<!-- Peter Brommer during his diploma thesis work."                        -->
<!-- A copy of the license is included in the section entitled             -->
<!-- "Licence - Documentation".                                            -->

<h1>Reference Configurations</h1>

<p>
The reference configurations used by <em>potfit</em> are read from a
configuration file, whose format is <a href="config.html#config">
described below</a>.  There is a 
<a href="utilities.html#vasp2force">utility program</a> to generate
configuration files from 
<a href="http://cms.mpi.univie.ac.at/vasp/">VASP</a> output.

<h2><a id="config" name="config">
Configuration Files</a></h2>

<p>
A <em>potfit</em> configuration file is an ASCII file, consisting of a
<a href="#header">header</a> and a <a href="#body">body</a>, both of 
which are described below.</p>

<h2><a id="header" name="header">Header</a></h2>
<p>The header consists of at least six lines starting with the 
hash symbol # and has the following format:</p>

<pre>
#N natoms useforce
#X boxx.x boxx.y boxx.z
#Y boxy.x boxy.y boxy.z
#Z boxz.x boxz.y boxz.z
#E coh_eng
#S stress_xx stress_yy stress_zz stress_yz stress_zx stress_xy
#F 
</pre>

The lines starting with #N, #X, #Y, #Z, #E and #F are mandatory, while the
line starting with #S is optional. All other lines are ignored.
#N must head the first line specifying the number of atoms in the
configuration and an integer flag to control whether to use or to ignore
force and stress information in this configuration. #F signifies the last
header line. 

All parameters are numbers and have the following meaning:
<table summary="entries in configuration file header">
<tr><td>natoms:</td><td>number of atoms in configuration</td></tr>
<tr><td>useforce:</td><td>if 0, forces from this configuration are
ignored</td></tr> 
<tr><td>boxi.j:</td><td>components of box vectors of unit cell</td></tr>
<tr><td>coh_eng:</td><td>cohesive energy per atom</td></tr>
<tr><td>stress.ij:</td><td>components of stress tensor</td></tr>
</table>

<p>
Note that:</p>
<ul>
<li> In all directions the sample must have a size of at least 
     the potential cutoff distance. This distance is measured
     perpendicular to the corresponding face.</li>
</ul>

<h2><a id="oldheader" name="oldheader">Deprecated header format</a></h2>
<p>This "old" format is still read by potfit. 
Here, the header consists of six lines and has the following
format:</p>

<pre>
natoms
boxx.x boxx.y boxx.z
boxy.x boxy.y boxy.z
boxz.x boxz.y boxz.z
coh_eng
stress_xx stress_yy stress_zz stress_yz stress_zx stress_xy
</pre>

<p>The parameters have the same meaning as in the new header. The parameter
useforce is assumed to be 1, i.e. the forces are used as reference data.</p>

<h2><a id="body" name="body">Body</a></h2>

<p>Following the header, there is one line for each atom. 
The format of each line, described also in the header, is
as follows:</p>

<pre>
 type x y z fx fy fz
</pre>

<p>
These items stand for:</p>

<table summary="entries in configuration file body lines">
<tr><td>type     </td><td> type of the atom; must be in the range [0..ntypes-1]
                                                                </td></tr>
<tr><td>x y z    </td><td> coordinates of the atom               </td></tr>
<tr><td>fx fy fz </td><td> net force components on the atom       </td></tr>
</table>

<p>Please note that the forces cannot be omitted, even when they are ignored
(see section on file <a href="#header">Header</a>)</p>

<h2><a id="boundary" name="boundary"> 
</a>Boundary Conditions</h2>

<p>
<em>potfit</em> uses <b>periodic boundary conditions</b>. If a
particle coordinate is not within the simulation box, it is mapped
back into the simulation box.
</p>

<h2>Multiple Configurations</h2>

<p>
Multiple configuration files can just be concatenated. <em>potfit</em>
continues reading from a reference file until it reaches the end of
file. Should this not coincide with the end of a single configuration,
an error will result.</p>

<!--#include virtual="potfitfoot.html" -->

