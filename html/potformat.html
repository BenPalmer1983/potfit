
<!--#include virtual="potfithead.html" -->
<!-- Copyright (c)  2005-2009  Peter Brommer, Franz Gaehler, 		   -->
<!-- Daniel Schopf, ITAP.         					   -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the GNU Free Documentation License, Version 1.2    -->
<!-- or any later version published by the Free Software Foundation;       -->
<!-- with Invariant Sections being the files potfit.html/index.html and    -->
<!-- licence.html, the Front-Cover Text "potfit - a force-matching         -->
<!-- program", and the Back-Cover Text "potfit was originally developed by -->
<!-- Peter Brommer during his diploma thesis work."                        -->
<!-- A copy of the license is included in the section entitled             -->
<!-- "Licence - Documentation".                                            -->

<h1>Potential File Format</h1>

<p>
The interactions currently supported by <em>potfit</em> are either defined in terms of
tabulated functions or given by analytic parameters. Typical such functions are central pair
potentials, which depend on the distance of two atoms and the two atom
types involved. For tabulated potentials such functions are given with steps which are
equidistant in the <b>distance</b>, which is the fundamental
difference to <a
href="http://www.itap.physik.uni-stuttgart.de/~imd/">IMD</a>, where
those functions are tabulated with steps equidistant in the square of
the distance. For EAM interactions one also needs functions which
depend on one atom type and the host electron density at the position
of that atom. Such functions are tabulated with steps equidistant in
the electron density. For analytic potentials only the parameters and the analytic form have
to be given.</p>

<h2>Potential File Header</h2>

<p>
The header is comparable to headers in <a
href="http://www.itap.physik.uni-stuttgart.de/~imd/">IMD</a>. It
specifies in which format the current file is, and how many data
columns the tabulated function has for each argument. The number
of data columns depends on the potential model used.
The header has the
following format:</p>

<pre>
## this is just a comment line
#F 3 n
#C Mg Zn
#I 0 1 .... n entries (this line is optional)
#G 2 3 .... n entries (this line is optional)
## this is another comment line
#E this is the very last header line
</pre>

<p>
Header lines start with the character '#'. If the second character is
'F', then the format specifier 3 (to distinguish from IMD potential
files, format types 1 or 2) and the number n of
data columns of the tabulated functions are read from the rest of the
line. The very last header line must have a character 'E' at the
second position. Header lines with a second character different from
'C', 'F', 'E' or 'G' are treated as comments, but it is recommended that such
lines start with two '#' characters. </p>

<p> The line I defines whether a whole potential function should be kept
constant during a force matching run. Each digit corresponds to one function
table, so there should be n digits in total. A value of '0' allows
<em>potfit</em> to change the corresponding potential function, a value of '1'
keeps it fixed. This is useful for example if a third component is to be added
to a binary system and only the additional potentials are to be allowed to
change. </p>

<p> The line G specifies whether the gradient of the interpolation
splines should be treated as fixed or as an additional degree of
freedom. Each digit corresponds to one function table, so there should
be n digits in total. The information is bit-coded, '0' declares both
lower and upper gradient fixed, '1' allows adjusting the gradient at
the upper end, '2' at the lower end, and '3' at both ends. </p>

<p> The line C specifies the chemical elements the potentials belong to. Currently this line is not
read for potentials, it is only given in the output to facilitate the handling of potential files.
In addition there will also be a comment on how the potentials are ordered, for the ternary system
AlMnPd a header for an EAM-potential could look like the following:</p>
<pre>
#F 0 12
#C Al Mn Pd
## Al-Al Al-Mn Al-Pd Mn-Mn Mn-Pd Pd-Pd Al Mn Pd Al Mn Pd
#I 0 0 0 0 0 0 0 0 0 0 0 0
#E
</pre>

<h2>Format 0</h2>

<p>
The potential format 0 is used for analytical potentials exclusively.
All of the above apply here, except for the G line.</p>

<p>
Every analytic potential has to be specified as follows:
</p>
<pre>
type identifier
cutoff value
# rmin 1.0
p_1 value min max
p_2 value min max
...
</pre>
<p>The <b>type</b> keyword has to be followed by the <a href="models.html">unique identifier</a> for
your potential. You can also enable the smooth cutoff option by adding a <b>_sc</b> at the end.
After the <b>cutoff</b> keyword the cutoff radius for this potential has to be given. This is
independant for every potential and can thus be different for different potentials.
The next line starting with # is a comment which is written by <em>potfit</em>.
It indicates the minimum neighbour distance for this interaction.
Following these lines, the values for the analytic parameters have to be specified.
Each line starts with an identifier for that parameter followed by the starting value,
the minimum and maximum value for that parameter. The order of these parameters is fixed, for the implemented analytic functions the order can be found <a href="models.html">here</a>.</p>

<p> A sample format 0 potential file for a binary system with an EAM
potential is available <a href="sample0.pt.txt">here</a>.
</p>

<h2>Format 3</h2>

<p>
In a potential file in format 3, each data column has its own range
and spacing. Sampling points are equidistant in the atomic distance r
or (when using EAM-type interactions) electron density n.
If we have n data columns, the file starts with n lines
of the form</p>
<pre>
x_begin x_end steps
</pre>
<p>specifying the start, end, and the number of function values in each
data set.  n data columns. The argument x is either the atom distance,
or the host electron density. These n lines are then followed by n
blocks with the function values, one for each atom type pair or atom
type. The spacing of function values is computed from the begin, end,
and number of function values of the corresponding table and can be
different for the different data columns.</p> 

<p>The data sets for N atom types have to be arranged as follows:</p>
<pre>
V_00 V_01 ... V_0N V_11 ... V_1N ... V_NN  (pair interaction)
rho_0 rho_1 ... rho_N  (EAM electron transfer)
F_0 F_1 ... F_N        (EAM embedding energy)
</pre>

<p> If the 'G' header line is specified, each data block must be
preceded by two values specifying the gradient of the function at the
lower and upper boundaries. A value of 10^30 or higher triggers the usage
of natural splines (curvature 0 at boundaries). <em>You should not
make the gradient variable at boundaries where natural splines are
specified. This will lead to undesired results.</em></p>

<p> A sample format 3 potential file for a binary system for an EAM
potential is available <a href="sample3g.pt.txt">with</a> or 
<a href="sample3.pt.txt">without</a> the #G header line.
</p>

<p><b>Please note:</b></p>
<ul>
<li> The pair potential matrix V_ij is implicitly symmetric, and only the
upper triangle of this matrix is given. </li>
<li> The transfer function rho_i depends on the type of the donating
atom only. </li>
<li> The embedding function F_i depends on the type of the accepting
(embedded) atom only.</li>
</ul>

<h2>Format 4</h2>

<p>As with potential files in format 3 each data column has its own
spacing. But with potential format 4 the requirement that the sampling
points be equidistant is dropped. Arbitrarily spaced sampling points
are possible, but the sampling points have to be given in order.</p>

<p>Preceding the data columns is a header with one line per column,
containing the number of sampling points in the corresponding
column. Seperated by blank lines then the data columns follow. Each of
the columns has the form</p>
<pre>
r_0     f(r_0)
r_1     f(r_1)
...
r_steps f(r_steps)
</pre>
<p>
Please note that r<sub>0</sub> &lt; r<sub>1</sub> &lt; ... &lt; r<sub>steps</sub> is
required. 
The order of the columns is the same as with format 3. </p>

<p> A sample format 4 potential file for a binary system (EAM
potential) is available <a href="sample4g.pt.txt">here</a> (with the
#G header line).</p>

<!-- <h2>Format 5</h2> -->

<!-- <p>Format 5 uses a set of Gaussian functions to describe a parameter. The -->
<!-- function &chi; is defined as</p> -->
<!-- <div align="center"> -->
<!-- <img -->
<!--  width="184" height="71" align="middle" border="0" -->
<!--  src="equations/img1.png" -->
<!--  alt="$\displaystyle \chi(r)=\sum\limits_{i=1}^{n}a_{i} -->
<!-- e^{\frac{1}{2}\left(\frac{\mu_{i}-r}{\sigma_{i}}\right)^{2}} -->
<!-- $"> -->
<!-- </div> -->
<!-- <p>This is the superposition of n Gaussians of amplitude a<sub>i</sub>, width -->
<!-- &sigma;<sub>i</sub> and center &mu;<sub>i</sub>.</p> -->

<!-- <p>The potential files with n data columns starts with n lines of the form</p> -->
<!-- <pre> -->
<!-- r_min r_cut k -->
<!-- </pre> -->
<!-- <p>specifying the closest distance the potential can describe, the cutoff -->
<!-- radius and the number k of gaussians used.</p> -->

<!-- <p>This block is followed by n blocks of data of the form</p> -->
<!-- <pre> -->
<!-- &mu;_1 &sigma;_1 a_1 -->
<!-- &mu;_2 &sigma;_2 a_2 -->
<!-- ... -->
<!-- &mu;_k &sigma;_k a_k -->
<!-- </pre> -->
<!-- <p>The only adjustable parameters are the amplitudes a<sub>i</sub>.</p> -->

<!-- <p>Functions that go to zero at r<sub>cut</sub> are smoothly cut off by two -->
<!-- additional gaussian functions, one centered at r<sub>cut</sub>+&sigma; with an -->
<!-- amplitude chosen so that &chi;&prime(r<sub>cut</sub>)=0, and the other -->
<!-- centered at r<sub>cut</sub> with an amplitude chosen so that -->
<!-- &chi;(r<sub>cut</sub>)=0.</p> -->
<!--#include virtual="potfitfoot.html" -->

